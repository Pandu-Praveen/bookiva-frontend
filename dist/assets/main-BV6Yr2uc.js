import{A as a}from"./config-XSboSa-d.js";const i=location.href;i=="http://localhost:4173/"||i=="http://localhost:4173/index.html"||i=="http://localhost:4173/index"||(location.href="/404/index.html");feather.replace();function c(){parseInt(localStorage.getItem("x"))==1&&(localStorage.setItem("x",0),location.reload());const e=document.querySelector(".user-menu");document.querySelector(".user-nav").addEventListener("click",n=>{n.stopPropagation(),e.classList.toggle("user-menu-hidden")}),f()}async function f(){try{const t=await fetch(a+"/profile",{credentials:"include",headers:{"Content-Type":"application/json"}}),{name:e,role:n}=await t.json();e&&u(e,n)}catch(t){console.error("Error fetching profile:",t)}}function u(t,e){function n(){var r=document.getElementById("reserveBtn"),o=document.getElementById("BrowseBtn");e=="MANAGEMENT"?(r.setAttribute("href","/management/"),o.setAttribute("href","/management/")):e=="ADMIN"?(r.setAttribute("href","/admin/"),o.setAttribute("href","/admin/")):e=="USER"&&(r.setAttribute("href","/venues/"),o.setAttribute("href","/venues/"))}n();let s;e=="MANAGEMENT"?s='<a class="ff-inter fs-2s user-menu-link" href="/management/">Profile</a>':e=="ADMIN"?s='<a class="ff-inter fs-2s user-menu-link" href="/admin/">Profile</a>':e=="USER"&&(s='<a class="ff-inter fs-2s user-menu-link" href="/profile/">Profile</a>');const l=document.querySelector(".user-menu");l.innerHTML=`
    <h3 class="ff-inter">Welcome, ${t}</h3>
    ${s}
    <a class="ff-inter fs-2s user-menu-link" href="/contactus/">Contact</a>
    <a class="ff-inter fs-2s user-menu-link log-out" href="#" style="font-weight:bold;color:red;">Log out</a>
  `,document.querySelector(".log-out").addEventListener("click",async r=>{r.preventDefault();try{await fetch(a+"/logout",{credentials:"include",headers:{"Content-Type":"application/json"}}),location.href="/login/"}catch(o){console.error("Error logging out:",o)}})}document.addEventListener("DOMContentLoaded",c);
