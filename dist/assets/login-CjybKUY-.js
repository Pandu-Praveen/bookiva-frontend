import{A as o}from"./config-XSboSa-d.js";fetch(o+"/profile",{headers:{"Content-Type":"application/json"},credentials:"include"}).then(s=>s.json()).then(s=>{console.log(s),s.blockStatus?(location.href="/block/",console.log("blockedddddd")):s.role=="MANAGEMENT"?location.href="/management/":s.role=="ADMIN"?location.href="/admin/":s.role=="USER"&&(location.href="/venues/")});const r=document.querySelector(".form");r.addEventListener("submit",async s=>{s.preventDefault();const l=document.querySelector("#email").value,i=document.querySelector("#password").value;var n=document.getElementById("signin");n.innerHTML='<span class="loader" style="border-top: 3px solid #fff;height: 24px; width: 24px;"></span>',n.classList.add("disabled"),await fetch(o+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:i}),credentials:"include"}).then(e=>e.json()).then(e=>{console.log(e,e.blockStatus),e.blockStatus?(location.href="/block/",console.log("blockedddddd")):e.message==="Login successful"?(console.log("Welcome"),e.role=="ADMIN"?location.href="/admin/":e.role=="MANAGEMENT"?location.href="/management/":e.role=="USER"&&(location.href="/venues/")):e.message==="Invalid email"?(alert("Invalid Email or Password"),n.innerHTML='<span class="sign-in butt-main ff-inter fs-3s">Sign In</span>',n.classList.remove("disabled")):e.message==="Invalid password"?(alert("Invalid Password"),n.innerHTML='<span class="sign-in butt-main ff-inter fs-3s">Sign In</span>',n.classList.remove("disabled")):e.message==="Internal server error"&&(alert("Internal server error"),n.innerHTML='<span class="sign-in butt-main ff-inter fs-3s">Sign In</span>',n.classList.remove("disabled"))}).catch(e=>console.log(e))});localStorage.setItem("x",1);feather.replace();
