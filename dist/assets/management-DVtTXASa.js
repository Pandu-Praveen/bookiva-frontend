import{A as b}from"./config-XSboSa-d.js";let w;P();async function P(){const s=await fetch(b+"/profile",{credentials:"include",headers:{"Content-Type":"application/json"}});s.status==401&&(location.href="/login/"),w=await s.json(),w.name,w.email,w&&(w.role=="USER"?location.href="/venues/":w.role=="ADMIN"&&(location.href="/admin/"))}const M=document.querySelectorAll("#sidebar .side-menu.top li a");M.forEach(s=>{const v=s.parentElement;s.addEventListener("click",function(){M.forEach(u=>{u.parentElement.classList.remove("active")}),v.classList.add("active")})});const q=document.querySelector("#content nav .bx.bx-menu"),B=document.getElementById("sidebar");q.addEventListener("click",function(){B.classList.toggle("hide")});const A=document.querySelector("#content nav form .form-input button"),x=document.querySelector("#content nav form .form-input button .bx"),D=document.querySelector("#content nav form");A.addEventListener("click",function(s){window.innerWidth<576&&(s.preventDefault(),D.classList.toggle("show"),D.classList.contains("show")?x.classList.replace("bx-search","bx-x"):x.classList.replace("bx-x","bx-search"))});window.innerWidth<768?B.classList.add("hide"):window.innerWidth>576&&(x.classList.replace("bx-x","bx-search"),D.classList.remove("show"));window.addEventListener("resize",function(){this.innerWidth>576&&(x.classList.replace("bx-x","bx-search"),D.classList.remove("show"))});let S=1;document.querySelector("#sidebar .side-menu.top li:nth-child(2) a").addEventListener("click",function(s){s.preventDefault(),document.getElementById("chart").style.display="none",document.querySelector(".todo").style.display="none",document.querySelector(".box-info").style.display="none",document.querySelector(".head-title").style.display="none",document.querySelector(".head").style.display="none",document.querySelector(".makehall").style.display="none",document.querySelector(".filter-options").style.display="flex",document.querySelector("#completed-events-table").style.display="block",document.getElementById("pending-events-table").style.display="none",document.getElementById("failed-events-table").style.display="none",document.querySelector(".order").style.display="block";let v=document.querySelector("#completed-events-table tbody");const u=[{no:1,hall:"Alpha Hall",name:"John",collegename:"SEC",dept:"CSE",email:"john@example.com",event:"Event 1",date:"02-10-24",purpose:"Purpose 1",startTime:"09:00 AM",endTime:"05:00 PM"},{no:2,hall:"Beta Hall",name:"Alice",collegename:"SIT",dept:"ECE",email:"alice@example.com",event:"Event 2",date:"03-15-24",purpose:"Purpose 2",startTime:"10:00 AM",endTime:"06:00 PM"},{no:3,hall:"Gamma Hall",name:"Bob",collegename:"SEC",dept:"IT",email:"bob@example.com",event:"Event 3",date:"04-20-24",purpose:"Purpose 3",startTime:"11:00 AM",endTime:"07:00 PM"},{no:4,hall:"Sigma Hall",name:"Eva",collegename:"SIT",dept:"EEE",email:"eva@example.com",event:"Event 4",date:"05-25-24",purpose:"Purpose 4",startTime:"12:00 PM",endTime:"08:00 PM"},{no:5,hall:"Leo Muthu",name:"David",collegename:"SEC",dept:"CIVIL",email:"david@example.com",event:"Event 5",date:"06-30-24",purpose:"Purpose 5",startTime:"01:00 PM",endTime:"09:00 PM"},{no:6,hall:"VRR Hall",name:"Sophia",collegename:"SIT",dept:"MECH",email:"sophia@example.com",event:"Event 6",date:"07-05-24",purpose:"Purpose 6",startTime:"02:00 PM",endTime:"10:00 PM"},{no:7,hall:"SSR Hall",name:"Jack",collegename:"SEC",dept:"CSE",email:"jack@example.com",event:"Event 7",date:"08-10-24",purpose:"Purpose 7",startTime:"03:00 PM",endTime:"11:00 PM"},{no:8,hall:"SIT AV Hall",name:"Lily",collegename:"SIT",dept:"IT",email:"lily@example.com",event:"Event 8",date:"09-18-24",purpose:"Purpose 8",startTime:"04:00 PM",endTime:"12:00 AM"},{no:9,hall:"SIT Smart Class Room",name:"Michael",collegename:"SEC",dept:"ECE",email:"michael@example.com",event:"Event 9",date:"10-10-24",purpose:"Purpose 9",startTime:"05:00 PM",endTime:"01:00 AM"},{no:10,hall:"SEC AV Hall",name:"Emma",collegename:"SIT",dept:"CSE",email:"emma@example.com",event:"Event 10",date:"11-17-24",purpose:"Purpose 10",startTime:"06:00 PM",endTime:"02:00 AM"},{no:11,hall:"Alpha Hall",name:"Oliver",collegename:"SEC",dept:"IT",email:"oliver@example.com",event:"Event 11",date:"01-01-25",purpose:"Purpose 11",startTime:"07:00 PM",endTime:"03:00 AM"},{no:12,hall:"Beta Hall",name:"Charlotte",collegename:"SIT",dept:"CIVIL",email:"charlotte@example.com",event:"Event 12",date:"02-05-25",purpose:"Purpose 12",startTime:"08:00 PM",endTime:"04:00 AM"},{no:13,hall:"Gamma Hall",name:"William",collegename:"SEC",dept:"MECH",email:"william@example.com",event:"Event 13",date:"03-10-25",purpose:"Purpose 13",startTime:"09:00 PM",endTime:"05:00 AM"},{no:14,hall:"Sigma Hall",name:"Amelia",collegename:"SIT",dept:"EEE",email:"amelia@example.com",event:"Event 14",date:"04-15-25",purpose:"Purpose 14",startTime:"10:00 PM",endTime:"06:00 AM"},{no:15,hall:"Leo Muthu",name:"James",collegename:"SEC",dept:"CSE",email:"james@example.com",event:"Event 15",date:"05-20-25",purpose:"Purpose 15",startTime:"11:00 PM",endTime:"07:00 AM"},{no:16,hall:"VRR Hall",name:"Sophia",collegename:"SIT",dept:"CIVIL",email:"sophia2@example.com",event:"Event 16",date:"06-25-25",purpose:"Purpose 16",startTime:"12:00 AM",endTime:"08:00 AM"},{no:17,hall:"SSR Hall",name:"Benjamin",collegename:"SEC",dept:"ECE",email:"benjamin@example.com",event:"Event 17",date:"07-30-25",purpose:"Purpose 17",startTime:"01:00 AM",endTime:"09:00 AM"},{no:18,hall:"SIT AV Hall",name:"Ava",collegename:"SIT",dept:"MECH",email:"ava@example.com",event:"Event 18",date:"08-05-25",purpose:"Purpose 18",startTime:"02:00 AM",endTime:"10:00 AM"},{no:19,hall:"SIT Smart Class Room",name:"Mason",collegename:"SEC",dept:"CIVIL",email:"mason@example.com",event:"Event 19",date:"09-10-25",purpose:"Purpose 19",startTime:"03:00 AM",endTime:"11:00 AM"},{no:20,hall:"SEC AV Hall",name:"Harper",collegename:"SIT",dept:"CSE",email:"harper@example.com",event:"Event 20",date:"10-15-25",purpose:"Purpose 20",startTime:"04:00 AM",endTime:"12:00 PM"},{no:21,hall:"Alpha Hall",name:"Ethan",collegename:"SEC",dept:"EEE",email:"ethan@example.com",event:"Event 21",date:"11-20-25",purpose:"Purpose 21",startTime:"05:00 AM",endTime:"01:00 PM"},{no:22,hall:"Beta Hall",name:"Mia",collegename:"SIT",dept:"MECH",email:"mia@example.com",event:"Event 22",date:"12-25-25",purpose:"Purpose 22",startTime:"06:00 AM",endTime:"02:00 PM"},{no:23,hall:"Gamma Hall",name:"Alexander",collegename:"SEC",dept:"CSE",email:"alexander@example.com",event:"Event 23",date:"01-01-26",purpose:"Purpose 23",startTime:"07:00 AM",endTime:"03:00 PM"},{no:24,hall:"Sigma Hall",name:"Luna",collegename:"SIT",dept:"CIVIL",email:"luna@example.com",event:"Event 24",date:"02-05-26",purpose:"Purpose 24",startTime:"08:00 AM",endTime:"04:00 PM"},{no:25,hall:"Leo Muthu",name:"Sebastian",collegename:"SEC",dept:"ECE",email:"sebastian@example.com",event:"Event 25",date:"03-10-26",purpose:"Purpose 25",startTime:"09:00 AM",endTime:"05:00 PM"}];document.getElementById("dept-filter").value="all",document.getElementById("college-filter").value="all",document.getElementById("hall-name-filter").value="all",document.getElementById("dept-filter").addEventListener("change",function(){c()}),document.getElementById("college-filter").addEventListener("change",function(){c()}),document.getElementById("hall-name-filter").addEventListener("change",function(){c()}),document.getElementById("start-date").addEventListener("change",function(){c()}),document.getElementById("end-date").addEventListener("change",function(){c()});function c(){const t=document.getElementById("dept-filter").value.toLowerCase().trim(),l=document.getElementById("college-filter").value.toLowerCase().trim(),n=document.getElementById("hall-name-filter").value.toLowerCase().trim(),o=document.querySelector("#start-date").value,m=document.querySelector("#end-date").value,d=u.filter(e=>{const a=t==="all"||e.dept.toLowerCase().trim()===t,r=l==="all"||e.collegename.toLowerCase().trim()===l,p=n==="all"||e.hall.toLowerCase().trim()===n,y=o===""||new Date(e.date)>=new Date(o),h=m===""||new Date(e.date)<=new Date(m);return a&&r&&p&&y&&h});g(S,d)}$(document).ready(function(){$("#start-date").datepicker({dateFormat:"mm/dd/yy",onSelect:function(){c()}}),$("#end-date").datepicker({dateFormat:"mm/dd/yy",onSelect:function(){c()}})});let i;function g(t,l){v.innerHTML="";let n=(t-1)*10,o=n+10,m=l.slice(n,o),d=(t-1)*10;m.forEach((e,a)=>{let r=document.createElement("tr");r.innerHTML=`
                                <td style="font-weight:bold;">${d+a+1}</td>
                                <td>${e.hall}</td>
                                <td>${e.name}</td>
                                <td>${e.collegename}</td>
                                <td>${e.dept}</td>
                                <td>${e.email}</td>
                                <td>${e.event}</td>
                                <td>${e.date}</td>
                                <td>${e.purpose}</td>
                                <td>${e.startTime}</td>
                                <td>${e.endTime}</td>
                                <td><span class="status completed">Completed</span></td>
                            `,v.appendChild(r)})}if(g(S,u),u.length>10&&!document.querySelector("#completed-events-table .pagination")){i=document.createElement("div"),i.classList.add("pagination"),i.innerHTML=`

                        <button class="prev" onclick="prevPage()">
                            <i class='bx bxs-chevron-left' style='margin-right: 3px; vertical-align: middle;'></i>
                        </button>
                        <span class="page-number" style="font-weight: bold; margin: 0 5px;">${S}</span>
                        <button class="next" onclick="nextPage()">
                            <i class='bx bxs-chevron-right' style='margin-left: 5px; vertical-align: middle;'></i>
                        </button>


                        
                        `,document.querySelector("#completed-events-table").appendChild(i);let t=i.querySelector(".prev"),l=i.querySelector(".next");t.addEventListener("click",I),l.addEventListener("click",C)}function I(){const t=document.getElementById("dept-filter").value.toLowerCase().trim(),l=document.getElementById("college-filter").value.toLowerCase().trim(),n=document.getElementById("hall-name-filter").value.toLowerCase().trim(),o=document.getElementById("start-date").value,m=document.getElementById("end-date").value;let d=u.filter(e=>{const a=t==="all"||e.dept.toLowerCase().trim()===t,r=l==="all"||e.collegename.toLowerCase().trim()===l,p=n==="all"||e.hall.toLowerCase().trim()===n,y=o===""||new Date(e.date)>=new Date(o),h=m===""||new Date(e.date)<=new Date(m);return a&&r&&p&&y&&h});Math.ceil(d.length/10),S>1&&(S--,g(S,d)),E()}function C(){let t;const l=document.getElementById("dept-filter").value.toLowerCase().trim(),n=document.getElementById("college-filter").value.toLowerCase().trim(),o=document.getElementById("hall-name-filter").value.toLowerCase().trim(),m=document.getElementById("start-date").value,d=document.getElementById("end-date").value;let e=u.filter(a=>{const r=l==="all"||a.dept.toLowerCase().trim()===l,p=n==="all"||a.collegename.toLowerCase().trim()===n,y=o==="all"||a.hall.toLowerCase().trim()===o,h=m===""||new Date(a.date)>=new Date(m),L=d===""||new Date(a.date)<=new Date(d);return r&&p&&y&&h&&L});t=Math.ceil(e.length/10),S<t&&(S++,g(S,e)),E()}function E(){let t=i.querySelector(".page-number");t.textContent=S}});let f=1;document.querySelector("#sidebar .side-menu.top li:nth-child(3) a").addEventListener("click",function(s){s.preventDefault(),document.getElementById("chart").style.display="none",document.querySelector(".todo").style.display="none",document.querySelector(".box-info").style.display="none",document.querySelector(".head-title").style.display="none",document.querySelector(".head").style.display="none",document.querySelector(".filter-options").style.display="flex",document.querySelector("#completed-events-table").style.display="none",document.querySelector(".makehall").style.display="none",document.getElementById("pending-events-table").style.display="block",document.querySelector(".order").style.display="block",document.getElementById("failed-events-table").style.display="none";let v=document.querySelector("#pending-events-table tbody"),u=[{no:1,hall:"Sample Hall",name:"Jayanth",collegename:"SIT",dept:"IT",email:"jayanth@example.com",event:"Sample Event",date:"10-10-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:2,hall:"Sample Hall",name:"sam",collegename:"SEC",dept:"CSE",email:"sam@example.com",event:"Sample Event",date:"14-11-24",purpose:"Children'S Day",startTime:"09:00 AM",endTime:"05:00 PM"},{no:3,hall:"Sample Hall",name:"Gowtham",collegename:"SIT",dept:"IT",email:"gowtham@example.com",event:"Sample Event",date:"22-07-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:4,hall:"Sample Hall",name:"Praveen",collegename:"SIT",dept:"IT",email:"praveen@example.com",event:"Sample Event",date:"01-01-24",purpose:"New Year",startTime:"09:00 AM",endTime:"05:00 PM"},{no:5,hall:"Sample Hall",name:"Jayanth",collegename:"SIT",dept:"IT",email:"jayanth@example.com",event:"Sample Event",date:"10-10-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:6,hall:"Sample Hall",name:"sam",collegename:"SEC",dept:"CSE",email:"sam@example.com",event:"Sample Event",date:"14-11-24",purpose:"Children'S Day",startTime:"09:00 AM",endTime:"05:00 PM"},{no:7,hall:"Sample Hall",name:"Gowtham",collegename:"SIT",dept:"IT",email:"gowtham@example.com",event:"Sample Event",date:"22-07-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:8,hall:"Sample Hall",name:"Praveen",collegename:"SIT",dept:"IT",email:"praveen@example.com",event:"Sample Event",date:"01-01-24",purpose:"New Year",startTime:"09:00 AM",endTime:"05:00 PM"},{no:9,hall:"Sample Hall",name:"Jayanth",collegename:"SIT",dept:"IT",email:"jayanth@example.com",event:"Sample Event",date:"10-10-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:10,hall:"Sample Hall",name:"sam",collegename:"SEC",dept:"CSE",email:"sam@example.com",event:"Sample Event",date:"14-11-24",purpose:"Children'S Day",startTime:"09:00 AM",endTime:"05:00 PM"},{no:11,hall:"Sample Hall",name:"Gowtham",collegename:"SIT",dept:"IT",email:"gowtham@example.com",event:"Sample Event",date:"22-07-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:12,hall:"Sample Hall",name:"Praveen",collegename:"SIT",dept:"IT",email:"praveen@example.com",event:"Sample Event",date:"01-01-24",purpose:"New Year",startTime:"09:00 AM",endTime:"05:00 PM"},{no:13,hall:"Sample Hall",name:"Jayanth",collegename:"SIT",dept:"IT",email:"jayanth@example.com",event:"Sample Event",date:"10-10-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:14,hall:"Sample Hall",name:"sam",collegename:"SEC",dept:"CSE",email:"sam@example.com",event:"Sample Event",date:"14-11-24",purpose:"Children'S Day",startTime:"09:00 AM",endTime:"05:00 PM"},{no:15,hall:"Sample Hall",name:"Gowtham",collegename:"SIT",dept:"IT",email:"gowtham@example.com",event:"Sample Event",date:"22-07-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"}];document.getElementById("dept-filter").value="all",document.getElementById("college-filter").value="all",document.getElementById("hall-name-filter").value="all",document.getElementById("dept-filter").addEventListener("change",function(){c()}),document.getElementById("college-filter").addEventListener("change",function(){c()}),document.getElementById("hall-name-filter").addEventListener("change",function(){c()}),document.getElementById("start-date").addEventListener("change",function(){c()}),document.getElementById("end-date").addEventListener("change",function(){c()});function c(){const t=document.getElementById("dept-filter").value.toLowerCase().trim(),l=document.getElementById("college-filter").value.toLowerCase().trim(),n=document.getElementById("hall-name-filter").value.toLowerCase().trim(),o=document.querySelector("#start-date").value,m=document.querySelector("#end-date").value,d=u.filter(e=>{const a=t==="all"||e.dept.toLowerCase().trim()===t,r=l==="all"||e.collegename.toLowerCase().trim()===l,p=n==="all"||e.hall.toLowerCase().trim()===n,y=o===""||new Date(e.date)>=new Date(o),h=m===""||new Date(e.date)<=new Date(m);return a&&r&&p&&y&&h});g(f,d)}$(document).ready(function(){$("#start-date").datepicker({dateFormat:"mm/dd/yy",onSelect:function(){c()}}),$("#end-date").datepicker({dateFormat:"mm/dd/yy",onSelect:function(){c()}})});let i;function g(t,l){v.innerHTML="";let n=(t-1)*10,o=n+10,m=l.slice(n,o),d=(t-1)*10;m.forEach((e,a)=>{let r=document.createElement("tr");r.innerHTML=`
                                <td style="font-weight:bold;">${d+a+1}</td>
                                <td>${e.hall}</td>
                                <td>${e.name}</td>
                                <td>${e.collegename}</td>
                                <td>${e.dept}</td>
                                <td>${e.email}</td>
                                <td>${e.event}</td>
                                <td>${e.date}</td>
                                <td>${e.purpose}</td>
                                <td>${e.startTime}</td>
                                <td>${e.endTime}</td>
                                <td><span class="status pending">Pending</span></td>
                            `,v.appendChild(r)})}if(g(f,u),u.length>10&&!document.querySelector("#pending-events-table .pagination")){i=document.createElement("div"),i.classList.add("pagination"),i.innerHTML=`

                        <button class="prev" onclick="prevPage()">
                            <i class='bx bxs-chevron-left' style='margin-right: 3px; vertical-align: middle;'></i>
                        </button>
                        <span class="page-number" style="font-weight: bold; margin: 0 5px;">${f}</span>
                        <button class="next" onclick="nextPage()">
                            <i class='bx bxs-chevron-right' style='margin-left: 5px; vertical-align: middle;'></i>
                        </button>


                        
                        `,document.querySelector("#pending-events-table").appendChild(i);let t=i.querySelector(".prev"),l=i.querySelector(".next");t.addEventListener("click",I),l.addEventListener("click",C)}function I(){const t=document.getElementById("dept-filter").value.toLowerCase().trim(),l=document.getElementById("college-filter").value.toLowerCase().trim(),n=document.getElementById("hall-name-filter").value.toLowerCase().trim(),o=document.getElementById("start-date").value,m=document.getElementById("end-date").value;let d=u.filter(e=>{const a=t==="all"||e.dept.toLowerCase().trim()===t,r=l==="all"||e.collegename.toLowerCase().trim()===l,p=n==="all"||e.hall.toLowerCase().trim()===n,y=o===""||new Date(e.date)>=new Date(o),h=m===""||new Date(e.date)<=new Date(m);return a&&r&&p&&y&&h});Math.ceil(d.length/10),f>1&&(f--,g(f,d)),E()}function C(){let t;const l=document.getElementById("dept-filter").value.toLowerCase().trim(),n=document.getElementById("college-filter").value.toLowerCase().trim(),o=document.getElementById("hall-name-filter").value.toLowerCase().trim(),m=document.getElementById("start-date").value,d=document.getElementById("end-date").value;let e=u.filter(a=>{const r=l==="all"||a.dept.toLowerCase().trim()===l,p=n==="all"||a.collegename.toLowerCase().trim()===n,y=o==="all"||a.hall.toLowerCase().trim()===o,h=m===""||new Date(a.date)>=new Date(m),L=d===""||new Date(a.date)<=new Date(d);return r&&p&&y&&h&&L});t=Math.ceil(e.length/10),f<t&&(f++,g(f,e)),E()}function E(){let t=i.querySelector(".page-number");t.textContent=f}});let T=1;localStorage.setItem("x",1);document.querySelector("#sidebar .side-menu.top li:nth-child(4) a").addEventListener("click",function(s){s.preventDefault(),document.getElementById("chart").style.display="none",document.querySelector(".todo").style.display="none",document.querySelector(".box-info").style.display="none",document.querySelector(".head-title").style.display="none",document.querySelector(".head").style.display="none",document.querySelector(".filter-options").style.display="flex",document.querySelector("#completed-events-table").style.display="none",document.querySelector(".order").style.display="block",document.getElementById("pending-events-table").style.display="none",document.getElementById("failed-events-table").style.display="block",document.querySelector(".makehall").style.display="none";let v=document.querySelector("#failed-events-table tbody"),u=[{no:1,hall:"Sample Hall",name:"Jayanth",collegename:"SIT",dept:"IT",email:"jayanth@example.com",event:"Sample Event",date:"10-10-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:2,hall:"Sample Hall",name:"sam",collegename:"SEC",dept:"CSE",email:"sam@example.com",event:"Sample Event",date:"14-11-24",purpose:"Children'S Day",startTime:"09:00 AM",endTime:"05:00 PM"},{no:3,hall:"Sample Hall",name:"Gowtham",collegename:"SIT",dept:"IT",email:"gowtham@example.com",event:"Sample Event",date:"22-07-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"},{no:4,hall:"Sample Hall",name:"Praveen",collegename:"SIT",dept:"IT",email:"praveen@example.com",event:"Sample Event",date:"01-01-24",purpose:"New Year",startTime:"09:00 AM",endTime:"05:00 PM"},{no:5,hall:"Sample Hall",name:"Jayanth",collegename:"SIT",dept:"IT",email:"jayanth@example.com",event:"Sample Event",date:"10-10-24",purpose:"Audio Launch",startTime:"09:00 AM",endTime:"05:00 PM"}];document.getElementById("dept-filter").value="all",document.getElementById("college-filter").value="all",document.getElementById("hall-name-filter").value="all",document.getElementById("dept-filter").addEventListener("change",function(){c()}),document.getElementById("college-filter").addEventListener("change",function(){c()}),document.getElementById("hall-name-filter").addEventListener("change",function(){c()}),document.getElementById("start-date").addEventListener("change",function(){c()}),document.getElementById("end-date").addEventListener("change",function(){c()});function c(){const t=document.getElementById("dept-filter").value.toLowerCase().trim(),l=document.getElementById("college-filter").value.toLowerCase().trim(),n=document.getElementById("hall-name-filter").value.toLowerCase().trim(),o=document.querySelector("#start-date").value,m=document.querySelector("#end-date").value,d=u.filter(e=>{const a=t==="all"||e.dept.toLowerCase().trim()===t,r=l==="all"||e.collegename.toLowerCase().trim()===l,p=n==="all"||e.hall.toLowerCase().trim()===n,y=o===""||new Date(e.date)>=new Date(o),h=m===""||new Date(e.date)<=new Date(m);return a&&r&&p&&y&&h});g(T,d)}$(document).ready(function(){$("#start-date").datepicker({dateFormat:"mm/dd/yy",onSelect:function(){c()}}),$("#end-date").datepicker({dateFormat:"mm/dd/yy",onSelect:function(){c()}})});let i;function g(t,l){v.innerHTML="";let n=(t-1)*10,o=n+10,m=l.slice(n,o),d=(t-1)*10;m.forEach((e,a)=>{let r=document.createElement("tr");r.innerHTML=`
                                <td style="font-weight:bold;">${d+a+1}</td>
                                <td>${e.hall}</td>
                                <td>${e.name}</td>
                                <td>${e.collegename}</td>
                                <td>${e.dept}</td>
                                <td>${e.email}</td>
                                <td>${e.event}</td>
                                <td>${e.date}</td>
                                <td>${e.purpose}</td>
                                <td>${e.startTime}</td>
                                <td>${e.endTime}</td>
                                <td><span class="status failed">Failed</span></td>
                            `,v.appendChild(r)})}if(g(T,u),u.length>10&&!document.querySelector("#failed-events-table .pagination")){i=document.createElement("div"),i.classList.add("pagination"),i.innerHTML=`

                        <button class="prev" onclick="prevPage()">
                            <i class='bx bxs-chevron-left' style='margin-right: 3px; vertical-align: middle;'></i>
                        </button>
                        <span class="page-number" style="font-weight: bold; margin: 0 5px;">${T}</span>
                        <button class="next" onclick="nextPage()">
                            <i class='bx bxs-chevron-right' style='margin-left: 5px; vertical-align: middle;'></i>
                        </button>


                        
                        `,document.querySelector("#failed-events-table").appendChild(i);let t=i.querySelector(".prev"),l=i.querySelector(".next");t.addEventListener("click",I),l.addEventListener("click",C)}function I(){const t=document.getElementById("dept-filter").value.toLowerCase().trim(),l=document.getElementById("college-filter").value.toLowerCase().trim(),n=document.getElementById("hall-name-filter").value.toLowerCase().trim(),o=document.getElementById("start-date").value,m=document.getElementById("end-date").value;let d=u.filter(e=>{const a=t==="all"||e.dept.toLowerCase().trim()===t,r=l==="all"||e.collegename.toLowerCase().trim()===l,p=n==="all"||e.hall.toLowerCase().trim()===n,y=o===""||new Date(e.date)>=new Date(o),h=m===""||new Date(e.date)<=new Date(m);return a&&r&&p&&y&&h});Math.ceil(d.length/10),T>1&&(T--,g(T,d)),E()}function C(){let t;const l=document.getElementById("dept-filter").value.toLowerCase().trim(),n=document.getElementById("college-filter").value.toLowerCase().trim(),o=document.getElementById("hall-name-filter").value.toLowerCase().trim(),m=document.getElementById("start-date").value,d=document.getElementById("end-date").value;let e=u.filter(a=>{const r=l==="all"||a.dept.toLowerCase().trim()===l,p=n==="all"||a.collegename.toLowerCase().trim()===n,y=o==="all"||a.hall.toLowerCase().trim()===o,h=m===""||new Date(a.date)>=new Date(m),L=d===""||new Date(a.date)<=new Date(d);return r&&p&&y&&h&&L});t=Math.ceil(e.length/10),T<t&&(T++,g(T,e)),E()}function E(){let t=i.querySelector(".page-number");t.textContent=T}});document.querySelector("#sidebar .side-menu.top li:nth-child(1) a").addEventListener("click",function(s){s.preventDefault(),document.querySelector("#chart").style.display="flex",document.querySelector(".todo").style.display="block",document.querySelector(".box-info").style.display="grid",document.querySelector(".head-title").style.display="flex",document.querySelector(".head").style.display="flex",document.querySelector("#completed-events-table").style.display="none",document.querySelector("#pending-events-table").style.display="none",document.querySelector("#failed-events-table").style.display="none",document.querySelector(".order").style.display="block",document.querySelector(".filter-options").style.display="none",document.querySelector(".makehall").style.display="none"});document.querySelector("#sidebar .side-menu.top li:nth-child(5) a").addEventListener("click",function(s){s.preventDefault(),document.querySelector("#chart").style.display="none",document.querySelector(".todo").style.display="none",document.querySelector(".box-info").style.display="none",document.querySelector(".head-title").style.display="none",document.querySelector(".head").style.display="none",document.querySelector("#completed-events-table").style.display="none",document.querySelector("#pending-events-table").style.display="none",document.querySelector("#failed-events-table").style.display="none",document.querySelector(".filter-options").style.display="none",document.querySelector(".order").style.display="none",document.querySelector(".makehall").style.display="block"});document.getElementById("createHallForm").addEventListener("submit",async function(s){s.preventDefault();const v=document.getElementById("hallname").value,u=document.getElementById("campusname").value,c=document.getElementById("location").value,i=document.getElementById("projectoravailable").value==="yes",g=document.getElementById("acavailable").value==="yes",I=parseInt(document.getElementById("seatingcapacity").value),C=document.getElementById("currentlyavailable").value==="yes",E=document.getElementById("file-upload"),t=new FormData;t.append("hallName",v),t.append("campusName",u),t.append("location",c),t.append("projectorAvailable",i),t.append("acAvailable",g),t.append("seatingCapacity",I),t.append("currentlyAvailable",C);for(let l=0;l<E.files.length;l++)t.append("images",E.files[l]);if(E.files.length>5)alert("Please upload less than 5 images");else try{const l=await fetch(b+"/createHall",{mode:"cors",method:"POST",body:t,credentials:"include"});if(l.status==401){c.href="/login/";return}if(l.status==200){alert("Hall Created Successfully!");return}}catch(l){console.error("Error while creating a hall:",l)}});document.querySelector("#sidebar .side-menu li:nth-child(2) a.logout").addEventListener("click",async function(s){s.preventDefault(),(await fetch(b+"/logout",{credentials:"include",headers:{"Content-Type":"application/json"}})).status==200&&(location.href="/login/")});
