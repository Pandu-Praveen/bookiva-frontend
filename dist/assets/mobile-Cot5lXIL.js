import{A as l}from"./config-XSboSa-d.js";fetch(l+"/profile",{headers:{"Content-Type":"application/json"},credentials:"include"}).then(e=>e.json()).then(e=>{console.log(e),e.blockStatus?(location.href="/block/",console.log("blockedddddd")):e.role=="MANAGEMENT"?location.href="/management/":e.role=="ADMIN"?location.href="/admin/":e.role=="USER"&&(location.href=`/venues/?${t}`)});const i=document.querySelector(".form"),s=window.location.search,t=s.slice(1,s.length);i.addEventListener("submit",async e=>{e.preventDefault();const r=document.querySelector("#email").value,c=document.querySelector("#name").value;var n=document.getElementById("signin");n.innerHTML='<span class="loader" style="border-top: 3px solid #fff;height: 24px; width: 24px;"></span>',n.classList.add("disabled"),await fetch(l+"/mobileUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,name:c}),credentials:"include"}).then(o=>o.json()).then(o=>{console.log(o,o.blockStatus),o.blockStatus?(location.href="/block/",console.log("blockedddddd")):o.message==="Login successful"?(console.log("Welcome"),location.href=`/venues/?${t}`):o.message==="Internal server error"&&(alert("Internal server error"),n.innerHTML='<span class="sign-in butt-main ff-inter fs-3s">Lets Go</span>',n.classList.remove("disabled"))}).catch(o=>console.log(o))});
